import{P as S,_ as D,a as B,b as v,c as f,d as A,e as _,S as F,T as N,f as V,g as j,h as E,i as P,j as I,k as W,l as q,m as L}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang.DJXBly47.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang.C0rT8CU_.js";import{_ as O,a as U,b as z,c as G}from"./CardTitle.vue_vue_type_script_setup_true_lang.DmShHdR4.js";import{_ as H,t as c}from"./AppLayout.vue_vue_type_script_setup_true_lang.BXQRw_La.js";import{d as J,B as x,c as T,o as d,a as e,u as l,g as K,w as s,b as i,i as p,f as k,S as g,e as t,F as w,r as M,t as o,W as Q}from"./app.DUAgE_Mi.js";import"./RovingFocusGroup.jLG0961D.js";import"./useForwardExpose.C1Zi1vvz.js";const R={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto"},X={class:"flex justify-between items-center"},Y={class:"flex flex-col gap-4"},Z={class:"flex flex-col gap-4"},h={class:"flex items-center space-x-2"},_l=J({__name:"Index",props:{tasks:{},role:{}},setup(ll){const r=x(!1),m=x(null),y=u=>{m.value=u,r.value=!0},b=()=>{m.value!==null&&Q.delete(`/tasks/${m.value}`,{onSuccess:()=>{c("Task deleted successfully!")},onError:()=>{c("Failed to delete task.")},onFinish:()=>{r.value=!1,m.value=null}})},C=[{title:"Tasks",href:"/tasks"}];return(u,a)=>(d(),T(w,null,[e(l(K),{title:"Tasks"}),e(H,{breadcrumbs:C},{default:s(()=>[i("div",R,[i("div",X,[a[2]||(a[2]=i("h1",{class:"text-2xl font-bold"},"Tasks",-1)),u.role==="admin"?(d(),p(l(g),{key:0,href:"/tasks/create"},{default:s(()=>[e(l($),null,{default:s(()=>[e(l(S),{class:"h-4 w-4"}),a[1]||(a[1]=t(" Create Task "))]),_:1,__:[1]})]),_:1})):k("",!0)]),i("div",Y,[e(l(O),null,{default:s(()=>[e(l(U),null,{default:s(()=>[e(l(z),null,{default:s(()=>a[3]||(a[3]=[t("All Tasks")])),_:1,__:[3]})]),_:1}),e(l(G),null,{default:s(()=>[i("div",Z,[e(l(D),null,{default:s(()=>[e(l(B),null,{default:s(()=>[e(l(v),null,{default:s(()=>[e(l(f),{class:"w-[100px]"},{default:s(()=>a[4]||(a[4]=[t("#")])),_:1,__:[4]}),e(l(f),null,{default:s(()=>a[5]||(a[5]=[t("Task")])),_:1,__:[5]}),e(l(f),null,{default:s(()=>a[6]||(a[6]=[t("Assigned to")])),_:1,__:[6]}),e(l(f),null,{default:s(()=>a[7]||(a[7]=[t("Email")])),_:1,__:[7]}),e(l(f),null,{default:s(()=>a[8]||(a[8]=[t("Status")])),_:1,__:[8]}),e(l(f),null,{default:s(()=>a[9]||(a[9]=[t("Deadline")])),_:1,__:[9]}),e(l(f),null,{default:s(()=>a[10]||(a[10]=[t("Action")])),_:1,__:[10]})]),_:1})]),_:1}),e(l(A),null,{default:s(()=>[(d(!0),T(w,null,M(u.tasks,n=>(d(),p(l(v),{key:n.id},{default:s(()=>[e(l(_),{class:"font-medium"},{default:s(()=>[t("#"+o(n.id),1)]),_:2},1024),e(l(_),null,{default:s(()=>[t(o(n.task_name),1)]),_:2},1024),e(l(_),null,{default:s(()=>[t(o(n.name),1)]),_:2},1024),e(l(_),null,{default:s(()=>[t(o(n.email),1)]),_:2},1024),e(l(_),null,{default:s(()=>[t(o(n.status?n.status.replace("_"," "):"—"),1)]),_:2},1024),e(l(_),null,{default:s(()=>[t(o(n.deadline??"—"),1)]),_:2},1024),e(l(_),null,{default:s(()=>[i("div",h,[u.role==="admin"||n.user_id===u.$page.props.auth.user.id?(d(),p(l(g),{key:0,href:`/tasks/${n.id}/edit`},{default:s(()=>[e(l($),{variant:"outline"},{default:s(()=>[e(l(F),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])):k("",!0),u.role==="admin"?(d(),p(l($),{key:1,variant:"destructive",onClick:()=>y(n.id)},{default:s(()=>[e(l(N),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):k("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),e(l(V),{open:r.value,"onUpdate:open":a[0]||(a[0]=n=>r.value=n)},{default:s(()=>[e(l(j),null,{default:s(()=>[e(l(E),null,{default:s(()=>[e(l(P),null,{default:s(()=>a[11]||(a[11]=[t("Are you sure you want to delete this task?")])),_:1,__:[11]}),e(l(I),null,{default:s(()=>a[12]||(a[12]=[t(" This action cannot be undone. This will permanently delete this task. ")])),_:1,__:[12]})]),_:1}),e(l(W),null,{default:s(()=>[e(l(q),null,{default:s(()=>a[13]||(a[13]=[t("Cancel")])),_:1,__:[13]}),e(l(L),{onClick:b},{default:s(()=>a[14]||(a[14]=[t("Delete")])),_:1,__:[14]})]),_:1})]),_:1})]),_:1},8,["open"])])]),_:1})],64))}});export{_l as default};
