import{P as B,_ as D,a as N,b as v,c as r,d as F,e as m,S as T,T as V,f as j,g as E,h as P,i as I,j as W,k as q,l as L,m as O}from"./AlertDialogTitle.vue_vue_type_script_setup_true_lang-D47oe9kL.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-YWASh3YS.js";import{_ as h,a as z,b as G,c as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-CNvfXbRq.js";import{_ as J,t as k}from"./AppLayout.vue_vue_type_script_setup_true_lang-jLO8NGge.js";import{d as K,B as g,c as y,o as u,a as s,u as e,g as M,w as l,b as f,i as _,f as c,S as b,e as t,F as w,r as Q,t as x,W as R}from"./app-qysNLaHR.js";import"./RovingFocusGroup-BgfLY-QZ.js";import"./useForwardExpose-BwDXz4vM.js";const X={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto"},Y={class:"flex justify-between items-center"},Z={class:"flex flex-col gap-4"},ee={class:"flex flex-col gap-4"},le={class:"flex items-center space-x-2"},de=K({__name:"Index",props:{users:{},role:{}},setup(C){const d=C.role==="admin",i=g(!1),o=g(null),U=p=>{o.value=p,i.value=!0},S=()=>{o.value!==null&&R.delete(`/users/${o.value}`,{onSuccess:()=>{k("User deleted successfully!")},onError:()=>{k("Failed to delete user.")},onFinish:()=>{i.value=!1,o.value=null}})},A=[{title:"Users",href:"/users"}];return(p,a)=>(u(),y(w,null,[s(e(M),{title:"Users"}),s(J,{breadcrumbs:A},{default:l(()=>[f("div",X,[f("div",Y,[a[2]||(a[2]=f("h1",{class:"text-2xl font-bold"},"Users",-1)),d?(u(),_(e(b),{key:0,href:"/users/create"},{default:l(()=>[s(e($),null,{default:l(()=>[s(e(B),{class:"h-4 w-4"}),a[1]||(a[1]=t(" Add User "))]),_:1,__:[1]})]),_:1})):c("",!0)]),f("div",Z,[s(e(h),null,{default:l(()=>[s(e(z),null,{default:l(()=>[s(e(G),null,{default:l(()=>a[3]||(a[3]=[t("All Users")])),_:1,__:[3]})]),_:1}),s(e(H),null,{default:l(()=>[f("div",ee,[s(e(D),null,{default:l(()=>[s(e(N),null,{default:l(()=>[s(e(v),null,{default:l(()=>[s(e(r),{class:"w-[100px]"},{default:l(()=>a[4]||(a[4]=[t("#")])),_:1,__:[4]}),s(e(r),null,{default:l(()=>a[5]||(a[5]=[t("Name")])),_:1,__:[5]}),s(e(r),null,{default:l(()=>a[6]||(a[6]=[t("Email")])),_:1,__:[6]}),d?(u(),_(e(r),{key:0},{default:l(()=>a[7]||(a[7]=[t("Action")])),_:1,__:[7]})):c("",!0)]),_:1})]),_:1}),s(e(F),null,{default:l(()=>[(u(!0),y(w,null,Q(p.users,n=>(u(),_(e(v),{key:n.id},{default:l(()=>[s(e(m),{class:"font-medium"},{default:l(()=>[t("#"+x(n.id),1)]),_:2},1024),s(e(m),null,{default:l(()=>[t(x(n.name),1)]),_:2},1024),s(e(m),null,{default:l(()=>[t(x(n.email),1)]),_:2},1024),d?(u(),_(e(m),{key:0},{default:l(()=>[f("div",le,[s(e(b),{href:`/users/${n.id}/edit`},{default:l(()=>[s(e($),{variant:"outline"},{default:l(()=>[s(e(T),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),s(e($),{variant:"destructive",onClick:()=>U(n.id)},{default:l(()=>[s(e(V),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)):c("",!0)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),d?(u(),_(e(j),{key:0,open:i.value,"onUpdate:open":a[0]||(a[0]=n=>i.value=n)},{default:l(()=>[s(e(E),null,{default:l(()=>[s(e(P),null,{default:l(()=>[s(e(I),null,{default:l(()=>a[8]||(a[8]=[t("Are you sure you want to delete this user?")])),_:1,__:[8]}),s(e(W),null,{default:l(()=>a[9]||(a[9]=[t(" This action cannot be undone. ")])),_:1,__:[9]})]),_:1}),s(e(q),null,{default:l(()=>[s(e(L),null,{default:l(()=>a[10]||(a[10]=[t("Cancel")])),_:1,__:[10]}),s(e(O),{onClick:S},{default:l(()=>a[11]||(a[11]=[t("Delete")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["open"])):c("",!0)])]),_:1})],64))}});export{de as default};
