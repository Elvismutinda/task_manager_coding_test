import{d as C,x as w,k as S,c as i,o,a as s,u as e,g as T,w as t,b as n,e as d,S as x,j as N,f,t as _,F as y,r as U,i as h}from"./app-DlUzuqbo.js";import{_ as c}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BszRIpIF.js";import{_ as B,a as j,b as A,c as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-CI7oilxL.js";import{_ as p,a as k}from"./Label.vue_vue_type_script_setup_true_lang-C7peoKHm.js";import{_ as F,a as D,b as L,c as I,d as M,e as P,f as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-B-MSMJjV.js";import{_ as z,t as b}from"./AppLayout.vue_vue_type_script_setup_true_lang-VGiZwe9C.js";import{A as G}from"./arrow-left-BfhsTZsq.js";import"./useForwardExpose-D0xxnr3r.js";import"./RovingFocusGroup-wJqaAEDA.js";import"./check-BnSLJRcW.js";const H={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto"},J={class:"flex justify-between items-center"},K={class:"space-y-2"},O={key:0,class:"text-sm text-red-500"},Q={class:"space-y-2"},R={key:0,class:"text-sm text-red-500"},W={class:"space-y-2"},X={key:0,class:"text-sm text-red-500"},Y={key:0},Z={class:"flex justify-between items-center"},ue=C({__name:"Create",props:{users:{}},setup($){const v=$,l=w({task_name:"",user_id:"",name:"",email:"",status:"pending",deadline:""}),u=S(()=>v.users.find(m=>m.id===parseInt(l.user_id))||null),V=()=>{u.value&&(l.name=u.value.name,l.email=u.value.email),l.post("/tasks",{onSuccess:()=>{b("Task created successfully!")},onError:m=>{b("Failed to create task. Please check the form."),console.error(m)}})},g=[{title:"Tasks",href:"/tasks"},{title:"Create Task",href:"/tasks/create"}];return(m,a)=>(o(),i(y,null,[s(e(T),{title:"Create Task"}),s(z,{breadcrumbs:g},{default:t(()=>[n("div",H,[s(e(B),null,{default:t(()=>[s(e(j),null,{default:t(()=>[n("div",J,[s(e(A),null,{default:t(()=>a[3]||(a[3]=[d("Create New Task")])),_:1,__:[3]}),s(e(x),{href:"/tasks"},{default:t(()=>[s(e(c),{variant:"outline"},{default:t(()=>[s(e(G),{class:"h-4 w-4"}),a[4]||(a[4]=d(" Back "))]),_:1,__:[4]})]),_:1})])]),_:1}),s(e(E),null,{default:t(()=>[n("form",{onSubmit:N(V,["prevent"]),class:"space-y-4"},[n("div",K,[s(e(p),{for:"task_name"},{default:t(()=>a[5]||(a[5]=[d("Task Name "),n("span",{class:"text-red-500"},"*",-1)])),_:1,__:[5]}),s(e(k),{id:"task_name",modelValue:e(l).task_name,"onUpdate:modelValue":a[0]||(a[0]=r=>e(l).task_name=r),type:"text",placeholder:"Enter task name"},null,8,["modelValue"]),e(l).errors.task_name?(o(),i("p",O,_(e(l).errors.task_name),1)):f("",!0)]),n("div",Q,[s(e(p),{for:"name"},{default:t(()=>a[6]||(a[6]=[d("User"),n("span",{class:"text-red-500"},"*",-1)])),_:1,__:[6]}),s(e(F),{modelValue:e(l).user_id,"onUpdate:modelValue":a[1]||(a[1]=r=>e(l).user_id=r)},{default:t(()=>[s(e(D),null,{default:t(()=>[s(e(L),{placeholder:"Select a user"})]),_:1}),s(e(I),null,{default:t(()=>[s(e(M),null,{default:t(()=>[s(e(P),null,{default:t(()=>a[7]||(a[7]=[d("Available Users")])),_:1,__:[7]}),(o(!0),i(y,null,U(v.users,r=>(o(),h(e(q),{key:r.id,value:r.id.toString()},{default:t(()=>[d(_(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(l).errors.user_id?(o(),i("p",R,_(e(l).errors.user_id),1)):f("",!0)]),n("div",W,[s(e(p),{for:"deadline"},{default:t(()=>a[8]||(a[8]=[d("Deadline")])),_:1,__:[8]}),s(e(k),{id:"deadline",modelValue:e(l).deadline,"onUpdate:modelValue":a[2]||(a[2]=r=>e(l).deadline=r),type:"date"},null,8,["modelValue"]),e(l).errors.deadline?(o(),i("p",X,_(e(l).errors.deadline),1)):f("",!0)]),u.value?(o(),i("div",Y,[s(e(k),{type:"hidden",value:u.value.email,disabled:""},null,8,["value"])])):f("",!0),n("div",Z,[s(e(x),{href:"/tasks"},{default:t(()=>[s(e(c),{variant:"outline"},{default:t(()=>a[9]||(a[9]=[d(" Cancel ")])),_:1,__:[9]})]),_:1}),s(e(c),{type:"submit",disabled:e(l).processing},{default:t(()=>[d(_(e(l).processing?"Creating...":"Create Task"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1})],64))}});export{ue as default};
